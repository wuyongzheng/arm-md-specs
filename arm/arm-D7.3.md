## D7.3 Mixed-endian support in AArch64

Acontrol bit, SCTLR\_EL1.E0E is provided to allow the endianness of explicit data accesses made while executing at EL0 to be controlled independently of those made while executing at EL1. Table D7-2 shows the endianness of explicit data accesses and translation table walks.

Table D7-2 Endianness support

| Exception level   | Explicit data accesses   | Stage 1 translation table walks   | Stage 2 translation table walks   |
|-------------------|--------------------------|-----------------------------------|-----------------------------------|
| EL0               | SCTLR_EL1.E0E a          | SCTLR_EL1.EE                      | SCTLR_EL2.EE                      |
| EL1               | SCTLR_EL1.EE             | SCTLR_EL1.EE                      | SCTLR_EL2.EE                      |
| EL2               | SCTLR_EL2.EE             | SCTLR_EL2.EE                      | n/a                               |
| EL3               | SCTLR_EL3.EE             | SCTLR_EL3.EE                      | n/a                               |

Note

SCTLR\_EL1.E0E has no effect on the endianness of the Explicit Memory Effects generated by unprivileged memory access instructions, when these are executed at EL1.

AArch64 state provides the following options for endianness support:

- â€¢
- All Exception levels support mixed-endianness:
- -SCTLR\_ELx.EE, SCTLR\_EL1.E0E, and SCTLR\_EL2.E0E are RW.
- Only EL0 supports mixed-endianness and EL1, EL2, and EL3 support only little-endianness:
- -SCTLR\_ELx.EE is RES0, and SCTLR\_EL1.E0E and SCTLR\_EL2.E0E are RW.
- Only EL0 supports mixed-endianness and EL1, EL2, and EL3 support only big-endianness:
- -SCTLR\_ELx.EE is RES1, and SCTLR\_EL1.E0E and SCTLR\_EL2.E0E are RW.
- All Exception levels support only little-endianness:
- -SCTLR\_ELx.EE, SCTLR\_EL1.E0E, and SCTLR\_EL2.E0E are RES0.
- All Exception levels support only big-endianness:
- -SCTLR\_ELx.EE, SCTLR\_EL1.E0E, and SCTLR\_EL2.E0E are RES1.

If mixed endian support is implemented for an Exception level using AArch32, endianness is controlled by PSTATE.E. For exception returns to AArch32 state, PSTATE.E is copied from SPSR\_ELx.E. If the target Exception level supports only little-endian accesses, SPSR\_ELx.E is RES0. If the target Exception level supports only big-endian accesses, SPSR\_ELx.E is RES1. PSTATE.E is ignored in AArch64 state.

The BigEndian() function determines whether the current Exception level and Execution state are using big-endian data. This function is defined in A-profile Architecture Pseudocode.

For more information about endianness in the Arm architecture see Endian support.